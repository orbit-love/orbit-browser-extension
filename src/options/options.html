<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Orbit Extension Settings</title>
    <link rel="stylesheet" href="./options.css" />
    <script type="module" src="./options.js"></script>
  </head>
  <meta charset="utf-8">

<head>
  <title>Orbit Extension Settings</title>
  <link rel="stylesheet" href="./options.css" />
  <script type="module" src="./options.js"></script>
</head>

<body>
  <div class="flex-1 mx-auto w-full" style="width: 980px;">
    <header class="flex items-center pb-3 pt-5 mt-2 mb-6">
      <div class="mr-5">
        <img alt="" src="../icons/orbit-logo-color-1x.png" srcset="
              ../icons/orbit-logo-color-2x.png 2x,
              ../icons/orbit-logo-color-3x.png 3x
            " style="height: 30px; max-width: inherit;" />
      </div>
      <div class="mx-auto text-yellow-600"></div>
      <div class="justify-end mx-2">
        <a class="no-underline" href="https://app.orbit.love" target="_blank" rel="noopener">Open Orbit app</a>
      </div>
    </header>
    <div class="pt-6 mx-auto w-full max-w-screen-sm">
      <h1 class="mb-6">Orbit Extension Settings</h1>
      <div x-data="orbit">
        <button id="startOAuth" @click="startOAuthFlow" x-show="showLogin" class="mr-2">
          Sign in with Orbit
        </button>

        <p x-show="!showLogin">
          Successfully signed in! If you wish you sign out, visit your <a
            href="https://app.orbit.love/user/settings/authorized_applications">User Settings on
            Orbit</a> & revoke access for the "Orbit Browser Extension"
          application.
        </p>

        <p x-show="authenticationCheckStatus.status !== undefined" x-text="authenticationCheckStatus.message"
          x-bind:class="authenticationCheckStatus.status == 'success' ? 'text-green-500' : authenticationCheckStatus.status == 'warning' ? 'text-yellow-600' : 'text-red-500'">
        </p>

        <div
          x-show="['success', 'warning'].includes(authenticationCheckStatus.status) && workspaces && workspaces.length> 0">
          <div class="mt-2">
            <div class="field">
              <div class="mb-2 text-lg">
                <span class="label-like">Select a workspace</span>
              </div>
              <p class="text-base text-gray-900">To proceed with the installation, please sign in to Orbit.</p>
            </div>
            <div class="py-4 flex justify-end">
              <button type="button" class="inline-flex items-center gap-x-2 rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                  <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd" />
                </svg>
                
                Next: Sign in to Orbit
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
